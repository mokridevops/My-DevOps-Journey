
# Docker Bind Mounts & Volumes

Problem with container:
1) If container goes down, the files that were generated like log files, all are gone, and you cannot access them

<img width="887" height="962" alt="image" src="https://github.com/user-attachments/assets/a942bdfe-c90d-4b4f-bd46-702ddc91e9f3" />

2) Suppose if we have two containers,  if the files generated by the backend containers that are usually accessed by the front end container , however if back end container is down,  when frontend container is searchign for the files, only todays file are accessible, all the previous ones are gone, as once the backend container came back, it generated today's file.

<img width="868" height="946" alt="image" src="https://github.com/user-attachments/assets/4aaa8da0-f3cd-496b-b484-636305c45a92" />


3) Suppose if a cron job is generating files on the host operating system, and the application on the container needs to access it, it is not possible

   <img width="565" height="557" alt="image" src="https://github.com/user-attachments/assets/9c6b312e-c13e-427f-bfdd-65477a95c59f" />


   DOCKER solutions:

<img width="1468" height="957" alt="image" src="https://github.com/user-attachments/assets/6bfb4ffe-5655-4bbe-a481-9c95cd19a8d3" />

   1) Bind Mounts - allows to bind a directory inside a container, with a folder on the host:
  
      what ever is written on container - will be saved on host folder also

      <img width="1382" height="850" alt="image" src="https://github.com/user-attachments/assets/a0869c54-ccb4-4b9e-9eda-9f4eb2655169" />

   3) Volumes:  using docker CLI - create volumes, destroy, remove from container C1 and add it to container C2.
  
      Volumes has life cycle: create, destroy, use it etc

      Volumes are better - you can create on: host machine, EC2, S3, NFS -> take external backups
      Volumes are very high performance




      Common misunderstanding of Docker Volumes:

      docker -v
      docker --mount

      both are used for same thing

      -v < src: dest : ..... > -> you will give all comments here itself
      -- mount -> more verbose option
      -- mount  src
                dest
                permission


Always go with volumnes instead of Bind mounts : you can manage entire life cycle of volumes, put in the external storage on S3 buckets, etc 

      
      Commands:

      docker volume ls ---> lists the volumes already created

      docker volume create abhishek ---> creates a volume

      <img width="653" height="178" alt="image" src="https://github.com/user-attachments/assets/7f334261-f395-4870-9562-a79033d95099" />

      this volume is created on local file system


      -----

      when you want to know who created a volume and where?

      docker volume inspect abhishek


<img width="720" height="397" alt="image" src="https://github.com/user-attachments/assets/71e6d47f-ca05-4792-bb51-a7bd4d1aabb5" />



---
to delete a volume:



<img width="633" height="187" alt="image" src="https://github.com/user-attachments/assets/3aff8913-75a7-46a8-90ad-0aff78d7794d" />


you can delete multiple volumes by giving multiple volumes in the same docker command

<img width="1163" height="560" alt="image" src="https://github.com/user-attachments/assets/1996e692-04a1-4722-aae8-59eaeb39ca2a" />


-----

to search for top 5 docker images:

docker images | head -5

<img width="1127" height="493" alt="image" src="https://github.com/user-attachments/assets/c5076c0a-bef2-4d1d-b988-9a4dd80564b8" />



---

running a docker build

docker build -t volumedemo .

so the image called volumedemo is being built

<img width="869" height="27" alt="image" src="https://github.com/user-attachments/assets/ad9dd955-855d-4abd-96e3-3b930e779b1c" />

after doing docker build, it will create docker image:

<img width="912" height="383" alt="image" src="https://github.com/user-attachments/assets/d20339f5-0f28-4bbf-8c15-def35493e33f" />

now create a docker volume

and then we will attach the docker volume to the docker container

now, let run the image to start the container with option mount

docker run -d --mount

<img width="1756" height="767" alt="image" src="https://github.com/user-attachments/assets/ed14d1bd-534c-4e17-8735-5707304d62f9" />

it is not only running a container, but it is running container with a mount

























      

      


      

  
      
